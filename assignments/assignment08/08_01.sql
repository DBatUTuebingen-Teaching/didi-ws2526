--------------------------------------------------------------------------------
-- Design and Implementation of Database Systems Internals
-- Assignment 08
-- Exercise 01
--------------------------------------------------------------------------------
-- In last week's assignment, you created an ART index, without any fancy
-- optimizations. In this exercise, we will provide you with this ART index
-- and your task will be to apply some optimizations to it.
--
-- -127:  01111111 11111111 11111111 10000001
-- -120:  01111111 11111111 11111111 10001000
-- -100:  01111111 11111111 11111111 10011100
-- -64:   01111111 11111111 11111111 11000000
-- -1:    01111111 11111111 11111111 11111111
-- 64:    10000000 00000000 00000000 01000000
-- 89:    10000000 00000000 00000000 01011001
-- 99:    10000000 00000000 00000000 01100011
-- 255:   10000000 00000000 00000000 11111111
-- 418:   10000000 00000000 00000001 10100010
--
-- ┌─────┬──────┬──────┬─────┐
-- │ ... │ 0111 │ 1000 │ ... │
-- └─────┴──────┴──────┴─────┘
--          │      └───────────────────────────────────────────────────────────────────────┐
--          │                                                                              │
-- ┌─────┬──────┐                                                                       ┌──────┬─────┐
-- │ ... │ 1111 │                                                                       │ 0000 │ ... │
-- └─────┴──────┘                                                                       └──────┴─────┘
--          │                                                                              │
-- ┌─────┬──────┐                                                                       ┌──────┬─────┐
-- │ ... │ 1111 │                                                                       │ 0000 │ ... │
-- └─────┴──────┘                                                                       └──────┴─────┘
--          │                                                                              │
-- ┌─────┬──────┐                                                                       ┌──────┬─────┐
-- │ ... │ 1111 │                                                                       │ 0000 │ ... │
-- └─────┴──────┘                                                                       └──────┴─────┘
--          │                                                                              │
-- ┌─────┬──────┐                                                                       ┌──────┬─────┐
-- │ ... │ 1111 │                                                                       │ 0000 │ ... │
-- └─────┴──────┘                                                                       └──────┴─────┘
--          │                                                                              │
-- ┌─────┬──────┐                                                                       ┌──────┬──────┬─────┐
-- │ ... │ 1111 │                                                                       │ 0000 │ 0001 │ ... │
-- └─────┴──────┘                                                                       └──────┴──────┴─────┘
--          │                                                                              │       └──────────────────────────────────────────────────────────────────────────┐
--          │                                                                              │                                                                                  │
-- ┌─────┬──────┬──────┬─────┬──────┬─────┬──────┐                                      ┌─────┬──────┬──────┬──────┬─────┬──────┬─────┐                              ┌─────┬──────┐
-- │ ... │ 1000 │ 1001 │ ... │ 1100 │ ... │ 1111 │                                      │ ... │ 0100 │ 0101 │ 0110 │ ... │ 1010 │ ... │                              │ ... │ 1111 │
-- └─────┴──────┴──────┴─────┴──────┴─────┴──────┘                                      └─────┴──────┴──────┴──────┴─────┴──────┴─────┘                              └─────┴──────┘
--          │      │             │            └───────────────────────────────────┐              │      │      │            └───────────────────────────────────┐             │
--          │      │             └───────────────────────────┐                    │              │      |      └──────────────────────────┐                     │             │
--          │      └──────────────────────────┐              │                    │              │      └────────────┐                    │                     │             │
-- ┌─────┬──────┬─────┬──────┬─────┐ ┌─────┬──────┬─────┐ ┌──────┬─────┐ ┌─────┬──────┐      ┌──────┬─────┐ ┌─────┬──────┬─────┐ ┌─────┬──────┬─────┐ ┌─────┬──────┐ ┌─────┬──────┬─────┐
-- │ ... │ 0001 │ ... │ 1000 │ ... │ │ ... │ 1100 │ ... │ │ 0000 │ ... │ │ ... │ 1111 │      │ 0000 │ ... │ │ ... │ 1001 │ ... │ │ ... │ 0011 │ ... │ │ ... │ 1111 │ │ ... │ 0010 │ ... │
-- └─────┴──────┴─────┴──────┴─────┘ └─────┴──────┴─────┘ └──────┴─────┘ └─────┴──────┘      └──────┴─────┘ └─────┴──────┴─────┘ └─────┴──────┴─────┘ └─────┴──────┘ └─────┴──────┴─────┘
--         -127         -120                 -100            -64                   -1            64                   89                   99                  255            418

--------------------------------------------------------------------------------
-- Task (a)
--------------------------------------------------------------------------------
-- As you can see, the ART index has many inner nodes with only a single child.
-- This is precisely the situation where path compression can be applied.
-- Please apply path compression to the provided ART index. Draw the resulting
-- ART index after applying path compression. Please use the same format as above.
-- It's dangerous outside, take this with you: ┌ ┐ └ ┘ ├ ┤ ┬ ┴ ┼ ─ │
--------------------------------------------------------------------------------
-- Solution:

--------------------------------------------------------------------------------
-- Task (b)
--------------------------------------------------------------------------------
-- With path compression applied, the ART index is significantly smaller.
-- However, we no longer have the property, that we can retrieve the bits of
-- the keys by traversing the tree level by level.
--
-- How do we have to modify the leaf nodes of the ART index, such that we can
-- still retrieve the keys correctly? Please explain this in a few sentences.
-- Note: 5-10 sentences are sufficient.
--------------------------------------------------------------------------------
-- Solution:

--------------------------------------------------------------------------------
-- Task (c)
--------------------------------------------------------------------------------
-- Another optimization that can be applied to ART indices is lazy expansion.
-- Please explain in a few sentences what lazy expansion is and how it can be
-- applied to ART indices. Note: 5-10 sentences are sufficient.
--------------------------------------------------------------------------------
-- Solution:

--------------------------------------------------------------------------------
